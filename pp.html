<!doctype html>
<html lang="az">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="canonical" href="https://www.eduplan.az/pp.html" />
  <meta name="google-site-verification" content="arARShX5-FqxTThszjmchhNpO0WHdzJlhWi0E3-zuzQ" />
  <title>Perspektiv plan (PP) ‚Äî EduPlan</title>
  <meta name="description" content="F…ônn √ºzr…ô illik PP planlarƒ± ‚Äî EduPlan.az">
  <meta name="robots" content="index, follow">
  <meta property="og:type" content="website">
  <meta property="og:title" content="PP ‚Äî EduPlan">
  <meta property="og:description" content="F…ônn √ºzr…ô illik plan fayllarƒ±.">
  <meta property="og:image" content="https://www.eduplan.az/assets/og-image.jpg">
  <meta property="og:url" content="https://www.eduplan.az/pp.html">
  <meta name="theme-color" content="#0a0b10">
  <meta name="language" content="az">
  <meta name="google-adsense-account" content="ca-pub-1241199346930032">
  <link rel="icon" type="image/png" sizes="180x180" href="https://www.eduplan.az/assets/ep-favicon-180.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Eyni stil: qƒ±sa versiya (ksq-bsq.html-d…ôki style blokunu KOPYALA) */
  </style>
  <script>
    // Tailwind-in √ºst√ºnd…ô ksq-bsq.html-d…ôki eyni style blokunu KOPYA ETM∆èYƒ∞ UNUTMA!
  </script>
  <!-- AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1241199346930032" crossorigin="anonymous"></script>
</head>
<body class="min-h-screen text-slate-900 relative">
  <!-- Glowlar -->
  <div class="pointer-events-none absolute inset-0 -z-10 overflow-hidden">
    <div class="absolute -top-24 -right-24 h-72 w-72 rounded-full blur-3xl bg-gradient-to-tr from-indigo-200/50 to-emerald-200/50"></div>
    <div class="absolute -bottom-24 -left-24 h-72 w-72 rounded-full blur-3xl bg-gradient-to-tr from-amber-200/40 to-pink-200/40"></div>
  </div>

  <!-- Header -->
  <header class="sticky top-0 z-50 backdrop-blur bg-white/70 border-b border-slate-200">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img id="site-logo" src="assets/ep-favicon-light.svg" alt="EduPlan loqo" class="h-9 w-9 rounded-2xl shadow-sm">
        <span class="font-semibold tracking-tight">EduPlan AZ</span>
      </div>
      <div class="relative flex items-center gap-3">
        <a href="/" class="rounded-2xl border px-3 py-2 text-sm">‚Üê Ana s…ôhif…ô</a>
        <button id="btn-settings" class="rounded-2xl border px-3 py-2 text-sm">üåô T…ônziml…ôm…ôl…ôr</button>
        <div id="settings-panel" class="hidden absolute right-0 top-12 z-[60] w-64 rounded-2xl border border-slate-200 bg-white p-4 shadow-lg">
          <div class="flex items-center justify-between">
            <div class="text-sm">Qaranlƒ±q rejim</div>
            <label class="inline-flex items-center cursor-pointer">
              <input id="dark-toggle" type="checkbox" class="sr-only">
              <span class="w-10 h-6 bg-slate-200 rounded-full relative transition">
                <span class="dot absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition"></span>
              </span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10">
      <h1 class="text-3xl sm:text-4xl font-bold tracking-tight">Perspektiv (illik) plan</h1>
      <p class="mt-2 text-slate-600">F…ônn √ºzr…ô illik plan fayllarƒ±.</p>
    </div>
  </section>

  <main class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-16">
    <div class="rounded-2xl shadow-sm hover:shadow-md transition border bg-white">
      <div class="p-4 border-b"><h3 class="font-semibold">PP</h3></div>
      <div class="p-4 grid lg:grid-cols-3 gap-6 items-stretch">
        <!-- F…ônn se√ßimi -->
        <div class="space-y-4 lg:min-h-[320px] lg:flex lg:flex-col lg:justify-center lg:-translate-y-4">
          <div>
            <label class="text-sm text-slate-700 block">F…ônn</label>
            <select id="ppSubject" class="select-premium w-full mt-1"></select>
          </div>
        </div>
        <!-- N…ôtic…ôl…ôr -->
        <div class="lg:col-span-2 min-w-0">
          <div id="pp-results-card" class="relative w-full rounded-xl border border-slate-200 bg-white text-sm overflow-clip">
            <div id="pp-count-row" class="hidden items-center justify-end mb-3 px-4 pt-4">
              <span id="pp-count" class="inline-flex items-center rounded-full bg-slate-100 px-2 py-0.5 text-xs text-slate-600 border">0</span>
            </div>
            <div id="pp-results" class="grid sm:grid-cols-2 gap-3 p-4"></div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Download Modal (15s) ‚Äì eyni -->
  <div id="dlModal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/60">
    <div class="relative w-[92%] max-w-[440px] rounded-3xl bg-[#121212] text-white p-4 sm:p-5 shadow-2xl" id="dlCard">
      <button id="dlClose" class="absolute -right-3 -top-3 grid h-10 w-10 place-items-center rounded-full bg-white/90 text-gray-800 shadow">‚úï</button>
      <div class="mb-3 text-sm text-gray-300">Preparing your download</div>
      <div class="relative overflow-hidden rounded-2xl bg-[#1b1b1b] border border-white/10">
        <div class="w-full grid place-items-center" style="min-height:250px">
          <ins class="adsbygoogle" id="modal-ad" style="display:inline-block;width:300px;height:250px"
               data-ad-client="ca-pub-1241199346930032" data-ad-slot="4681795317"></ins>
        </div>
      </div>
      <div class="mt-4 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="relative h-10 w-10">
            <div id="ring" class="h-10 w-10 rounded-full" style="background:
              conic-gradient(#8b5cf6 0deg,#8b5cf6 0deg,#333 0deg,#333 360deg);"></div>
            <div class="absolute inset-0 grid place-items-center text-sm font-semibold" id="dlCount"></div>
          </div>
          <div class="text-sm text-gray-300" id="dlStatus">Please wait a few moments for the download to begin</div>
        </div>
      </div>
      <div class="mt-4 h-1 w-full overflow-hidden rounded-full bg-white/10">
        <div id="dlBar" class="h-1 bg-violet-500 w-0"></div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="border-t border-slate-200 py-10 text-sm">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row items-center justify-between gap-4">
      <p class="text-slate-600">¬© <span id="year"></span> EduPlan AZ ¬∑ B√ºt√ºn h√ºquqlar qorunur</p>
      <div class="flex items-center gap-4 text-slate-600 text-sm">
        <a class="hover:underline" href="about.html">Haqqƒ±mƒ±zda</a>
        <a class="hover:underline" href="terms.html">≈û…ôrtl…ôr</a>
        <a class="hover:underline" href="privacy.html">M…ôxfilik</a>
      </div>
    </div>
  </footer>

  <script>
    /* Stil bloku ksq-bsq.html-d…ôn eyni qaydada bura copy-l…ônm…ôlidir (qƒ±saltma √º√ß√ºn yuxarƒ±da qeyd etdim). 
       A≈üaƒüƒ±dakƒ± JS is…ô PP loqikasƒ±dƒ±r ‚Äì index il…ô eyni. */

    // Dark mode (eyni)
    const settingsBtn=document.getElementById('btn-settings');
    const panel=document.getElementById('settings-panel');
    const darkToggle=document.getElementById('dark-toggle');
    const mq=window.matchMedia('(prefers-color-scheme: dark)');
    const saved=localStorage.getItem('theme');
    const initialTheme=saved ? saved : (mq.matches ? 'dark' : 'light');
    document.documentElement.classList.toggle('dark', initialTheme==='dark');
    if(darkToggle) darkToggle.checked=(initialTheme==='dark');
    function applyThemeAssets(theme){ const logoEl=document.getElementById('site-logo'); if(logoEl){ logoEl.src=(theme==='dark')?'assets/ep-favicon-dark.svg':'assets/ep-favicon-light.svg'; } }
    applyThemeAssets(initialTheme);
    settingsBtn?.addEventListener('click',(e)=>{e.stopPropagation();panel.classList.toggle('hidden')});
    document.addEventListener('click',(e)=>{ if(!panel.contains(e.target)&&!settingsBtn.contains(e.target)) panel.classList.add('hidden')});
    darkToggle?.addEventListener('change',(e)=>{ const theme=e.target.checked?'dark':'light'; document.documentElement.classList.toggle('dark',theme==='dark'); localStorage.setItem('theme',theme); applyThemeAssets(theme); refreshEmptyPlaceholders(); });
    mq.addEventListener?.('change',(e)=>{ if(!localStorage.getItem('theme')){ const theme=e.matches?'dark':'light'; document.documentElement.classList.toggle('dark',theme==='dark'); if(darkToggle) darkToggle.checked=(theme==='dark'); applyThemeAssets(theme); refreshEmptyPlaceholders(); }});
    document.getElementById('year').textContent=new Date().getFullYear();

    // Premium select helper-l…ôr (ksq-bsq.html-d…ôn eyni funksiyalar)
    function addPlaceholder(selectEl,label){ const o=document.createElement('option'); o.value=""; o.textContent=label; o.disabled=true; o.selected=true; o.hidden=true; selectEl.appendChild(o); selectEl.required=true; }
    function enhanceFancySelect(select){ /* ... eyni kod ... */ }
    function enhanceAllFancySelects(){ document.querySelectorAll('select.select-premium').forEach(enhanceFancySelect); }

    const FEED_URL="https://script.google.com/macros/s/AKfycbxnt6tDu5YJ_P_FUgobNTu_Q-2dbyZjaXSWwyjIKysTJ3UwnWZKqm0ZxoNwoyT4M0w7/exec";
    const translations={ az:{ subjects:{ az:'Az…ôrbaycan dili', lit:'∆èd…ôbiyyat', science:'T…ôbi…ôt', eng:'ƒ∞ngilis dili', rus:'Rus dili', math:'Riyaziyyat', physics:'Fizika', chemistry:'Kimya', biology:'Biologiya', az_history:'Az…ôrbaycan tarixi', world_history:'√úmumi tarix', geography:'Coƒürafiya', it:'ƒ∞nformatika', life:'H…ôyat bilgisi', tech:'Texnologiya', art:'T…ôsviri inc…ôs…ôn…ôt', music:'Musiqi', pe:'Fiziki t…ôrbiy…ô', premilitary:'√áaƒüƒ±rƒ±≈üaq…ôd…ôrki hazƒ±rlƒ±q' } } };
    const state={ ppSubject:null, catalog:[] };

    function option(el,val,text){ const o=document.createElement('option'); o.value=val; o.textContent=text; el.appendChild(o); }

    function renderPPSelect(){
      const ppEl=document.getElementById('ppSubject');
      ppEl.innerHTML=''; addPlaceholder(ppEl,'F…ônni se√ßin');
      Object.values(translations.az.subjects).forEach(s=>option(ppEl,s,s));
      ppEl.value=state.ppSubject ?? "";
      enhanceAllFancySelects();
    }

    function allChosenPP(){ return !!state.ppSubject; }
    function showEmpty(cardId,{icon='üóÇÔ∏è',title='',desc:''}){ /* eyni */ }
    function hideEmpty(cardId){ /* eyni */ }
    function refreshEmptyPlaceholders(){
      if(!allChosenPP()){ hideEmpty('pp-results-card'); showEmpty('pp-results-card',{icon:'üóÇÔ∏è',title:'Z…ôhm…ôt olmasa f…ônni se√ßin',desc:'F…ônni se√ßdikd…ôn sonra n…ôtic…ôl…ôr burada g√∂r√ºn…ôc…ôk.'}); }
    }

    function buildTitle(it){ const format=(it.ext||'FILE').toUpperCase(); return `${it.subject} ¬∑ PP ¬∑ ${format}`; }

    function renderPP(){
      const wrap=document.getElementById('pp-results'); wrap.innerHTML='';
      const list=state.catalog.filter(it=>it.type==='PP' && it.subject===state.ppSubject);
      document.getElementById('pp-count').textContent=list.length;
      const gridEl=document.getElementById('pp-results');
      const center=(list.length>0 && list.length<=2);
      gridEl.classList.toggle('min-h-[240px]',center);
      gridEl.classList.toggle('place-content-center',center);
      gridEl.classList.toggle('justify-items-center',center);
      if(list.length===0){ wrap.innerHTML='<div class="rounded-lg border border-dashed border-slate-300 p-6 text-slate-500">Fayl yoxdur</div>'; return; }
      list.forEach(it=>{
        const card=document.createElement('div'); card.className='group rounded-xl p-[1px] bg-gradient-to-br from-slate-200 to-slate-100';
        card.innerHTML=`
          <div class="rounded-[11px] p-4 bg-white shadow-sm group-hover:shadow-md transition">
            <div class="flex items-start gap-3">
              <div class="h-8 w-8 rounded-lg bg-slate-100 grid place-items-center">üìÑ</div>
              <div class="flex-1">
                <div class="text-sm font-medium break-words">${buildTitle(it)}</div>
                <div class="mt-1"><span class="rounded-full bg-slate-100 px-2 py-0.5 text-[10px] border">${(it.ext||'FILE').toUpperCase()}</span></div>
                <div class="mt-3">
                  <a href="${it.dl}" target="_self" rel="noopener" data-download="${it.dl}"
                     class="download-btn rounded-2xl bg-slate-900 text-white px-3 py-1.5 text-sm inline-flex items-center gap-2">‚¨áÔ∏è Y√ºkl…ô</a>
                </div>
              </div>
            </div>
          </div>`;
        wrap.appendChild(card);
      });
    }

    async function loadAllFromMaterials(){
      try{
        const res=await fetch(FEED_URL,{cache:'no-store'});
        const catalog=await res.json();
        state.catalog=Array.isArray(catalog)?catalog:[];
        renderPPSelect();
        toggleResults();
      }catch(e){
        console.error(e);
        if(allChosenPP()){
          document.getElementById('pp-results').innerHTML = `<div class="rounded-lg border border-dashed border-slate-300 p-6 text-slate-500">X…ôta: ${e.message}</div>`;
        }
      }
    }

    function toggleResults(){
      const grid=document.getElementById('pp-results');
      const countRow=document.getElementById('pp-count-row');
      if(allChosenPP()){ hideEmpty('pp-results-card'); countRow?.classList.remove('hidden'); renderPP(); }
      else { countRow?.classList.add('hidden'); grid.innerHTML=''; showEmpty('pp-results-card',{icon:'üóÇÔ∏è',title:'Z…ôhm…ôt olmasa f…ônni se√ßin',desc:'F…ônni se√ßdikd…ôn sonra n…ôtic…ôl…ôr burada g√∂r√ºn…ôc…ôk.'}); }
    }

    document.getElementById('ppSubject').addEventListener('change', e=>{ state.ppSubject=e.target.value||null; toggleResults(); });

    // Download modal ‚Äì ksq-bsq.html-d…ôki eyni blok (eyni funksiyalarla) ‚Äì KOPYA EDƒ∞N

    (function init(){
      if('scrollRestoration' in history) history.scrollRestoration='manual';
      window.scrollTo(0,0);
      renderPPSelect();
      loadAllFromMaterials();
      refreshEmptyPlaceholders();
    })();
  </script>
</body>
</html>
